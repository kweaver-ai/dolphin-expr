default: v3
fast: qwen-turbo
clouds:
  default: aliyun
  aliyun:
    user_id: "${ALIYUN_USER_ID}"
    api: https://dashscope.aliyuncs.com/compatible-mode/v1
    api_key: "${ALIYUN_API_KEY}"
  deepseek:
    api: https://api.deepseek.com/beta
    api_key: "${DEEPSEEK_API_KEY}"
  zhipu:
    api: https://open.bigmodel.cn
    api_key: "${ZHIPU_API_KEY}"
llms:
  qwen-plus:
    cloud: aliyun
    id: 18928543177492439044
    model_name: qwen-plus-2025-07-28
    type_api: openai
  qwen-turbo:
    cloud: aliyun
    id: 18928543177492439044
    model_name: qwen-turbo-latest
    type_api: openai
  qwen-coder:
    cloud: aliyun
    id: 18928543177492439044
    model_name: qwen3-coder-plus
    type_api: openai
  v3:
    cloud: deepseek
    id: 18928543177492439044
    model_name: deepseek-v3
    type_api: openai
 
# Context Engineer configuration
context_engineer:
  import_mem: false
  default_strategy: "truncation"
  # Constraint configuration
  constraints:
    max_input_tokens: 64000        # Max input tokens
    reserve_output_tokens: 16384   # Reserved tokens for output (overridden by model max_tokens)
    preserve_system: true          # Whether to preserve system messages
  # Strategy configuration (optional)
  strategy_configs:
    # Custom sliding-window size
    sliding_window_15:
      type: "sliding_window"
      window_size: 15

# Memory System configuration
memory:
  enabled: false
  storage_path: "data/memory/"     # Memory storage path
  dialog_path: "data/dialog/"      # Dialog history storage path
  default_top_k: 10                # Default retrieval top-k

# Skill loading configuration
skill:
  # List of skills to enable; if omitted, load all skills
  # Supported formats:
  # - "vm_skillkit": load VM-related skills
  # - "search_skillkit": load search-related skills
  # - "mcp": load all MCP servers
  # - "mcp.filesystem": load a specific MCP server
  # - "mcp.memory": load a specific MCP server
  # - "mcp.fetch": load a specific MCP server
  # - "mcp.playwright": load a specific MCP server
  enabled_skills:
    #- "vm_skillkit"
    - "sql_skillkit"
    - "ontology_skillkit"
    - "cognitive_skillkit"
    #- "mcp"  # Load all MCP servers
    # Or specify individual MCP servers:
    # - "mcp.filesystem"
    # - "mcp.memory"
    # - "mcp.fetch"
    # - "mcp.playwright"

# MCP integration configuration - use a safe working directory
mcp:
  enabled: true
  servers:
    # Stdio mode: start and manage MCP server processes
    - name: "filesystem"
      connection_mode: "stdio"
      command: "npx"
      args: ["@modelcontextprotocol/server-filesystem", 
             "/private/tmp/mcp-workspace", 
             "/Users/xupeng/dev/aishu/dolphin-language",
             "/Users/xupeng/Documents"]  # Use Documents instead of Downloads
      timeout: 30
      enabled: true
      auth:
        type: "none"
    
    - name: "memory"
      connection_mode: "stdio"
      command: "npx"
      args: ["@modelcontextprotocol/server-memory"]
      timeout: 30
      enabled: true
      auth:
        type: "none"
    
    # Community MCP fetch plugin - uses fetcher-mcp
    - name: "fetch"
      connection_mode: "stdio"
      command: "fetcher-mcp"
      args: []
      timeout: 30
      enabled: true  # Enable this server
      auth:
        type: "none"
    
    # Official MCP playwright plugin
    - name: "playwright"
      connection_mode: "stdio"
      command: "npx"
      args: ["@playwright/mcp", 
             "--headless", 
             "--no-sandbox",
             "--isolated"]
      timeout: 60  # Playwright may require more time to start
      enabled: true
      auth:
        type: "none"
    
    - name: "sequential_thinking"
      connection_mode: "stdio"
      command: "npx"
      args: ["-y", "@modelcontextprotocol/server-sequential-thinking"]
      timeout: 30
      enabled: true
      auth:
        type: "none"

    # Extensibility configuration examples
    - name: "database"
      connection_mode: "http"
      url: "http://localhost:3004"
      timeout: 45
      enabled: false
      auth:
        type: "bearer"
        token: "your-database-token"
    
    - name: "custom_service"
      connection_mode: "http"
      url: "https://your-mcp-server.com/api/v1"
      timeout: 60
      enabled: false
      auth:
        type: "basic"
        username: "your-username"
        password: "your-password"

ontology:
  dataSources:
  - name: california_schools
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/california_schools/california_schools.sqlite
  - name: card_games
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/card_games/card_games.sqlite
  - name: codebase_community
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/codebase_community/codebase_community.sqlite
  - name: debit_card_specializing
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/debit_card_specializing/debit_card_specializing.sqlite
  - name: european_football_2
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/european_football_2/european_football_2.sqlite
  - name: financial
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/financial/financial.sqlite
  - name: formula_1
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/formula_1/formula_1.sqlite
  - name: student_club
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/student_club/student_club.sqlite
  - name: superhero
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/superhero/superhero.sqlite
  - name: thrombosis_prediction
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/thrombosis_prediction/thrombosis_prediction.sqlite
  - name: toxicology
    type: SQLITE
    database: /Users/xupeng/lab/bird_data/dev/dev_databases/toxicology/toxicology.sqlite
