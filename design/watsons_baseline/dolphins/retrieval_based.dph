$_root_dir + "/data/rule.md" -> rule_path
$_root_dir + "/data/table.md" -> table_path
{$table_path : 2} -> table_path_config

$_root_dir + "/data/default_WHERE_clause.txt" -> default_clause_path
@_read_file(file_path=$default_clause_path) -> default_clause

@_read_file(file_path=$rule_path) -> rule

@build_index(concept=table, path_config=$table_path_config) -> index_table
@retrieval(concept=table, query=$query) -> table


/prompt/(model=qwen-plus)现在要解决的问题是
```
$query
```

!!不同类型的查询请求都需要遵循下面这些要求，务必注意正确的 WHERE clause!!
```
$default_clause
```

请先仔细思考问题，然后返回这个 query 应该遵循的 where clause 的要求(完整保留，包括注释和解释)
请直接返回结果，现在开始 -> where_clause

/prompt/(model=qwen-plus)现在要解决的问题是
```
$query
```

schema补充解释为
```
$table
```

撰写 sql 的where clause要满足的要求如下
```
$where_clause.answer
```

请先仔细思考问题，然后输出和问题及 where clause【可能相关】的 schema 内容中的信息。
对于返回的schema，请给出介绍及【所有】字段，关键字段信息请完整给出，不能遗漏字段
请不要返回别的内容，直接返回结果，现在开始 -> key_schemas

/prompt/(model=qwen-plus)现在要解决的问题是
```
$query
```

这里有一些业务规则信息，请判断那些信息和这个问题相关
```
$rule
```

请完成思考，然后【完整】的输出【相关】的业务规则内容，不相关的业务规则不要给出
请不要返回别的内容，直接返回结果，现在开始 -> key_rules


/explore/(tools=$tools) 现在要解决的问题是
```
$choice_question
```

schema信息为
```
$key_schemas.answer
```

撰写 sql 的where clause要满足的要求如下
```
$where_clause.answer
```
!!务必牢记要【完整】的满足 SQL WHERE CLAUSE 的要求，不要出现遗漏!!

相关业务规则信息是
```
$key_rules.answer
```

db是
```
$db_id
```

[[NOTICE]]
(1) 数据库是 oracle，请注意sql 生成格式，比如语句结果不需要分号
(2) 生成 sql 时再次确认 where clause 所有条件都被包括
(3) sql中，表名称前记得加上 schema，如“WATSONS.DWS_ORDER_ITEM_STAFF_ORDER_BY_DAY”
(4) 大部分题目选项中都是有一个或多个正确答案的，如果没有，请再次确认
[[NOTICE]]

现在请思考，后生成最终正确的的答案，成功再进行返回，否则继续调整
返回结果需要使用```进行包裹，如：```A,B,C``` 或者 ```D```
现在请开始 -> final_result