# Codex/智能体协作规则（仓库根）

本文件对本仓库全局生效（除非子目录有更具体的 `AGENTS.md` 覆盖）。

## 代码规范

- 所有代码注释（含 docstring）必须使用英文
- 所有新增日志（log message）必须使用英文

## 文档约定

- 稳定文档放在 `docs/`
- 中间过程/阶段性文档放在 `baks/`，后续会逐步淘汰

## 文档架构最佳实践

### 语言政策

- **Usage 文档 (`docs/usage/`)**: 英文为主，面向所有使用者和开发者
- **Design 文档 (`docs/design/`)**: 中文为主，面向团队内部技术讨论
- **例外**: 详细技术指南可保留中文，但需提供英文快速参考版本

### 文档结构

```
docs/
├── README.md                    # 文档导航入口，包含语言政策说明
├── design/                      # 设计文档（中文）
└── usage/                       # 使用文档（英文）
    ├── quick_start/             # 快速开始
    ├── concepts/                # 核心概念
    ├── guides/                  # 操作指南
    └── configuration/           # 配置参考
```

### 必备文档清单

1. **README.md** - 文档导航和语言政策
2. **Quick Start Guide** - 5分钟快速上手
3. **Installation Guide** - 详细安装说明
4. **Troubleshooting Guide** - 常见问题解决
5. **CLI Reference** - 命令行参考（如适用）
6. **Configuration Reference** - 配置格式说明（如适用）

### 文档规范

#### 命名与格式
- 文件名：小写字母+下划线，如 `getting_started.md`
- 标题：清晰描述性，英文文档用英文，中文文档可双语
- 路径：使用 `$PROJECT_ROOT` 或相对路径，避免硬编码个人路径

#### 内容要求
- 清晰的标题层级（`#`, `##`, `###`）
- 长文档提供目录
- 包含可运行的代码示例
- 使用表格整理结构化信息
- 相对路径链接，确保在 README.md 中可达

#### 代码示例规范
```bash
# ✅ 好的示例
./bin/run --name my_experiment

# ❌ 避免
cd /home/alice/my-project  # 硬编码路径
```

### 文档维护

#### 更新时机
- 新功能 → 同步更新文档
- 配置变更 → 更新配置参考
- 发现错误 → 立即修正

#### 质量检查清单
- [ ] 符合语言政策（Usage英文/Design中文）
- [ ] 无硬编码个人路径
- [ ] 代码示例可执行
- [ ] 链接有效且可达
- [ ] 标题层级清晰
- [ ] 无拼写错误
- [ ] 格式一致

#### 版本控制
- 设计文档添加"最后更新"日期
- 重大变更记录版本历史
- 废弃文档移至 `baks/` 而非删除

### 特殊文档类型

- **快速参考**: 简洁聚焦，提供常用命令表格，链接详细文档
- **详细指南**: 完整功能说明，包含高级特性和架构原理
- **故障排除**: 按问题分类，提供症状-原因-解决方案结构
